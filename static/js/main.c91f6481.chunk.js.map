{"version":3,"sources":["components/PageTemplate/PageTemplate.js","components/TeamItem/TeamItem.js","components/TeamList/TeamList.js","components/App.js","index.js"],"names":["cx","classNames","bind","styles","PageTemplate","_ref","children","react_default","a","createElement","className","TeamItem","_this$props","this","props","max","color","crownDisplay","rank","contentStyle","backgroundColor","display","barStyle","width","point","style","fill","xmlns","height","viewBox","d","name","address","Component","TeamList","teams","colors","Math","apply","map","o","teamList","team","components_TeamItem_TeamItem","key","id","web3","Web3","givenProvider","App","state","accounts","updateBalance","promiseArray","account","getAccountBalance","eth","getBalance","err","wei","balance","utils","fromWei","push","Promise","all","then","result","sort","b","parseFloat","depth","i","length","_this","setState","_this2","setInterval","components_PageTemplate_PageTemplate","components_TeamList_TeamList","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.c91f6481.chunk.js","sourcesContent":["import React from 'react';\nimport styles from './PageTemplate.scss';\nimport classNames from 'classnames/bind';\n\nconst cx = classNames.bind(styles);\n\nconst PageTemplate = ({children}) => {\n  return (\n    <div className={cx('Leaderboard')}>\n      <h1>이더 도둑 챌린지</h1>\n      <div className={cx('leaders')}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default PageTemplate;\n","import React, { Component } from 'react';\nimport styles from './TeamItem.scss';\nimport classNames from 'classnames/bind';\n\nconst cx = classNames.bind(styles);\n\nclass TeamItem extends Component {\n\n  render() {\n    const { children, max, color } = this.props;\n\n    let crownDisplay = 'none';\n    if(children.rank < 4)\n      crownDisplay = 'block';\n\n    const contentStyle = {\n      backgroundColor: color,\n      display: crownDisplay\n    };\n\n    const barWitdh = children.point / max * 100 + '%';\n\n    const barStyle = {\n      backgroundColor: color,\n      width: barWitdh\n    };\n\n    return (\n      <div className={cx('leader')} >\n        <div className={cx('leader-wrap')} >\n          <div className={cx('leader-ava')} style={contentStyle}>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tfill=\"#fff\" xmlns=\"http://www.w3.org/2000/svg\" height={24} width={24} viewBox=\"0 0 32 32\">\n\t\t\t\t\t\t\t<path d=\"M 16 3 C 14.354991 3 13 4.3549901 13 6 C 13 7.125993 13.63434 8.112309 14.5625 8.625 L 11.625 14.5 L 7.03125 11.21875 C 7.6313215 10.668557 8 9.8696776 8 9 C 8 7.3549904 6.6450096 6 5 6 C 3.3549904 6 2 7.3549904 2 9 C 2 10.346851 2.9241199 11.470238 4.15625 11.84375 L 6 22 L 6 26 L 6 27 L 7 27 L 25 27 L 26 27 L 26 26 L 26 22 L 27.84375 11.84375 C 29.07588 11.470238 30 10.346852 30 9 C 30 7.3549901 28.645009 6 27 6 C 25.354991 6 24 7.3549901 24 9 C 24 9.8696781 24.368679 10.668557 24.96875 11.21875 L 20.375 14.5 L 17.4375 8.625 C 18.36566 8.112309 19 7.125993 19 6 C 19 4.3549901 17.645009 3 16 3 z M 16 5 C 16.564129 5 17 5.4358709 17 6 C 17 6.5641291 16.564129 7 16 7 C 15.435871 7 15 6.5641291 15 6 C 15 5.4358709 15.435871 5 16 5 z M 5 8 C 5.5641294 8 6 8.4358706 6 9 C 6 9.5641286 5.5641291 10 5 10 C 4.4358709 10 4 9.5641286 4 9 C 4 8.4358706 4.4358706 8 5 8 z M 27 8 C 27.564129 8 28 8.4358709 28 9 C 28 9.5641283 27.564128 10 27 10 C 26.435872 10 26 9.5641283 26 9 C 26 8.4358709 26.435871 8 27 8 z M 16 10.25 L 19.09375 16.4375 L 20.59375 16.8125 L 25.59375 13.25 L 24.1875 21 L 7.8125 21 L 6.40625 13.25 L 11.40625 16.8125 L 12.90625 16.4375 L 16 10.25 z M 8 23 L 24 23 L 24 25 L 8 25 L 8 23 z\" />\n\t\t\t\t\t\t</svg>\n          </div>\n\n          <div className={cx('leader-content')}>\n            <div className={cx('leader-name')}>{children.rank}. {children.name} - {children.address}</div>\n            <div className={cx('leader-score')}>{children.point} ETH</div>\n          </div>\n        </div>\n        <div className=\"leader-bar\">\n          <div className=\"bar\" style={barStyle}/>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default TeamItem;\n","import React, { Component } from 'react';\nimport TeamItem from '../TeamItem';\n\nclass TeamList extends Component {\n\n\n  render() {\n    const { teams } = this.props;\n\n    let colors = [\n    \t'#FFB900',\n    \t'#69797E',\n    \t'#847545',\n    \t'#E74856',\n    \t'#0078D7',\n    \t'#0099BC',\n    \t'#7A7574',\n    \t'#767676',\n    \t'#FF8C00',\n    \t'#E81123',\n    \t'#0063B1',\n    \t'#2D7D9A',\n    \t'#5D5A58',\n    \t'#4C4A48',\n    \t'#F7630C',\n    \t'#EA005E',\n    \t'#8E8CD8',\n    \t'#00B7C3',\n    \t'#68768A',\n    \t'#CA5010'\n    ];\n\n    const max = Math.max.apply(Math, teams.map(function(o) { return o.point; }));\n    const teamList = teams.map(\n      team => (\n        <TeamItem key={team.id} max={max} color={colors[team.rank-1]}>\n          {team}\n        </TeamItem>\n      )\n    )\n\n    return (\n      <div>\n        {teamList}\n      </div>\n    );\n  }\n\n}\n\nexport default TeamList;\n","import React, { Component } from 'react';\nimport PageTemplate from './PageTemplate';\nimport TeamList from './TeamList';\nimport accounts from '../accounts.json';\nimport Web3 from 'web3';\n\nconst web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n\nclass App extends Component {\n  state = {\n    teams : accounts\n  }\n\n  componentWillMount() {\n    this.updateBalance();\n  }\n\n  componentDidMount(){\n    setInterval( () => this.updateBalance(), 3000);\n  }\n\n\n  updateBalance = () => {\n    var promiseArray = [];\n    accounts.map( (account) => {\n      const getAccountBalance = web3.eth.getBalance(account.address, (err, wei) => {\n        const balance = web3.utils.fromWei(wei, 'ether');\n        account.point = balance;\n      })\n    \treturn promiseArray.push(getAccountBalance);\n    });\n\n    Promise.all(promiseArray).then(result => {\n      accounts.sort((a, b) => (parseFloat(b.point) - parseFloat(a.point)));\n      //accounts.sort((a, b) => (parseFloat(a.point) < parseFloat(b.point)) ? 1 : -1);\n\n      let rank = 1;\n      let depth = 1;\n      accounts[0].rank = 1;\n      for(let i=1; i<accounts.length; i++){\n        if(parseFloat(accounts[i-1].point) === parseFloat(accounts[i].point)){\n          accounts[i].rank = rank;\n          depth++;\n        }else{\n          rank = rank + depth;\n          accounts[i].rank = rank;\n          depth = 1;\n        }\n      }\n\n      this.setState({ teams : accounts });\n    });\n  }\n\n  render() {\n    const { teams } = this.state;\n\n    return(\n      <PageTemplate>\n        <TeamList teams={teams}/>\n      </PageTemplate>\n    )\n  }\n}\n\n\n\nexport default App\n","import React from 'react'\nimport { render } from 'react-dom'\nimport App from './components/App'\n\nrender(\n    <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}